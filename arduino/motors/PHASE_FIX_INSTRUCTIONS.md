# Решение проблемы: мотор издает звуки, но не вращается

## Диагноз
Если мотор издает звуки (пытается вращаться), но не вращается физически, и энкодер показывает импульсы - это означает:
- ✅ Драйвер работает правильно
- ✅ Датчики Холла подключены и работают
- ✅ Питание в порядке
- ❌ **Неправильно подключены фазы мотора (MA, MB, MC)**

## Решение

### Шаг 1: Запустите скрипт поиска фаз
Загрузите файл `motor_phase_finder.ino` в Arduino и откройте Serial Monitor (115200 бод).

Скрипт автоматически проверит, вращается ли мотор, и даст рекомендации.

### Шаг 2: Поменяйте местами провода фаз
Если скрипт показал, что мотор не вращается, нужно физически поменять местами провода фаз на драйвере.

**Варианты переключения (пробуйте по очереди):**

1. **Вариант A**: Поменять местами `1MA` и `1MB`
   - Отключите питание драйвера
   - Отсоедините провода `1MA` и `1MB` от драйвера
   - Подключите провод, который был на `1MA`, к `1MB`
   - Подключите провод, который был на `1MB`, к `1MA`
   - Включите питание и запустите тест снова

2. **Вариант B**: Поменять местами `1MB` и `1MC`
   - Аналогично варианту A, но меняем `1MB` ↔ `1MC`

3. **Вариант C**: Поменять местами `1MA` и `1MC`
   - Аналогично варианту A, но меняем `1MA` ↔ `1MC`

4. **Вариант D**: Поменять местами все три провода
   - Циклическая перестановка: `1MA` → `1MB`, `1MB` → `1MC`, `1MC` → `1MA`

### Шаг 3: Проверьте результат
После каждого изменения:
1. Включите питание драйвера
2. Запустите `motor_phase_finder.ino`
3. Наблюдайте за мотором
4. Если мотор начал вращаться - **это правильная комбинация!**

### Шаг 4: Используйте рабочий код
После того, как найдете правильную комбинацию фаз, используйте основной код `motor_control.ino` для управления мотором.

## Дополнительные проверки

Если после всех переключений мотор все еще не вращается, проверьте:

1. **Механическая блокировка**
   - Убедитесь, что мотор может свободно вращаться
   - Проверьте, нет ли посторонних предметов

2. **Напряжение питания**
   - Проверьте мультиметром, что на драйвере действительно 36V
   - Потенциометр на блоке питания должен быть на максимуме

3. **Датчики Холла**
   - Проверьте правильность подключения `1Ha`, `1Hb`, `1Hc`
   - Убедитесь, что провода не повреждены после накручивания на ось

4. **Провода фаз**
   - Проверьте целостность проводов `1MA`, `1MB`, `1MC`
   - Убедитесь, что провода не слишком длинные (рекомендуется < 1 метра)

## Интерактивное управление

В файле `motor_phase_finder.ino` есть интерактивный режим в функции `loop()`:
- Отправьте `f` в Serial Monitor - мотор вперед
- Отправьте `b` в Serial Monitor - мотор назад
- Отправьте `s` в Serial Monitor - остановка
- Отправьте `t` в Serial Monitor - тест вращения

Это поможет быстро проверять разные комбинации фаз.

## Важно

⚠️ **Всегда отключайте питание перед переключением проводов!**
⚠️ **Не меняйте провода под напряжением - это опасно!**
